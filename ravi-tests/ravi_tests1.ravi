local z,x,y

-- test 1 
z = function(a)
  print(a)
  return a+1
end
x = function(yy)
  local j = 5
  j = yy(j)
  return j
end

y = x(z)
assert(y == 6)

-- test 2
z = function (a,p)
  p(a)
  return 6
end

x = function (yy,p)
  local j = 5
  j = yy(j,p)
  return j
end

y = x(z,print)
assert(y == 6)

-- test 3
x = function () 
  local i, j:int
  j=0
  for i=1,1000000000 do
  	j = j+1
  end
  return j
end

y = x()
assert(y == 1000000000)

-- test 4
x = function ()
  local j:double
  for i=1,1000000000 do
    j = j+1
  end
  return j
end

local y = x()
assert(y == 1000000000.0)

-- test 5
x = function ()
  local j = 0
  for i=2,6,3 do
    j = i
  end
  return j
end

y = x()
assert(y == 5)

-- test 6
x = function ()
  local j = 0
  for i=2.0,6.0,3.1 do
    j = i
  end
  return j
end

y = x()
assert(y == 5.1)

-- test 7
x = function ()
  local a=5
  return 1004,2
end

y = x()
assert(y == 1004)

-- test 8
x = function ()
  if 1 == 2 then
    return 5.0
  end
  return 1.0
end

assert(x() == 1.0)

-- test 9
x = function (y)
  if y == 1 then
    return 1.0
  elseif y == 5 then
    return 2.0
  else
    return 3.0
  end
end
assert(x(5) == 2.0)
assert(x(4) == 3.0)

-- test 10
x = function (y,z)
  if y == 1 then
    if z == 1 then
      return 99.0
    else
      return z
    end
  elseif y == 5 then
    return 2.0
  else
    return 3.0
  end
end

assert(x(1,1) == 99.0)
assert(x(1,2) == 2)
assert(x(1,5.3) == 5.3)
assert(x(5) == 2.0)
assert(x(4) == 3.0)
